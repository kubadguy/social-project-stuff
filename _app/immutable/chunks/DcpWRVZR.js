const i="https://social-project-stuff.onrender.com";function s(t){return t.message}const u=10,o=3e3;async function c(t=u){let e;try{e=await fetch(`${i}/cont/is_alive`,{cache:"no-store",signal:AbortSignal.timeout(1500)})}catch{return t>0?(await new Promise(a=>setTimeout(a,o)),c(t-1)):[0,"Backend Not Alive"]}const r=e.headers.get("content-type")||"";if(e.status===503||r.includes("text/html"))return t>0?(await new Promise(a=>setTimeout(a,o)),c(t-1)):["waking","Backend is warming upâ€¦"];if(!r.includes("application/json"))return(await e.text().catch(()=>"")).trim()?["parse","Unexpected non-JSON response"]:["parse","Empty response from backend"];let n;try{n=await e.json()}catch{return["parse","Parsing error"]}return e.ok?n.okay?[1,s(n)]:["backend",s(n)]:["code",n.message||`Backend error: HTTP ${e.status}`]}export{i as B,c as i};
